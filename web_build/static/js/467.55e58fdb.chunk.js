"use strict";(self.webpackChunkweb=self.webpackChunkweb||[]).push([[467],{3074:function(e,n,o){o.r(n),o.d(n,{default:function(){return C}});var t=o(1413),r=o(5861),c=o(885),i=o(4687),s=o.n(i),l=o(2791),a=o(3898),u=o(8529),d=o(664),p=o(2978),h=(o(9970),o(6871)),f=o(929),x=o.n(f),g=o(2827),m=o(6132),k=o.n(m),b=o(5259),j=o(4869),Z=o(6159),v=o(3563),w=(o(3526),o(4237)),y=o(9696),S=o(184);function C(){var e=(0,l.useState)([]),n=(0,c.Z)(e,2),o=n[0],i=n[1],f=(0,l.useState)(!1),m=(0,c.Z)(f,2),C=m[0],F=(m[1],(0,y.Ug)()),E=(0,c.Z)(F,1)[0],_=(0,h.s0)();(0,l.useEffect)((function(){g.MN.load("client:auth2",(function(){g.MN.client.init({clientId:"920161152373-u95bboqe5r1m45b5654gdgidipfete75.apps.googleusercontent.com",scope:"email"})}))}),[]);var I=(0,p.I0)(),O=(0,l.useState)(""),R=(0,c.Z)(O,2),D=R[0],z=R[1],P=(0,l.useState)(""),A=(0,c.Z)(P,2),J=A[0],N=A[1],T=(0,l.useState)(!1),U=(0,c.Z)(T,2),q=U[0],B=U[1],G=function(e){e.preventDefault(),(0,Z.SV)(D,J).then((function(e){_("/2fa")})).catch((function(e){console.log("error: ",e),i(e.response.data)}))},L=function(){var e=(0,r.Z)(s().mark((function e(){return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:_("/send-email");case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),M=(0,p.v9)((function(e){return e.reducer.auth&&e.reducer.auth.loggedIn}));return(0,l.useEffect)((function(){M&&_("/home")}),[M,_]),(0,S.jsx)(u.T3,{children:(0,S.jsxs)(u.W2,{margin:"100px",padding:"70px",borderRadius:"20px",children:[(0,S.jsx)(u.Dx,{margin:"30px",children:"Log In"}),(0,S.jsxs)("form",{onSubmit:G,style:{display:"flex",flexDirection:"column",justifyContent:"space-between",alignItems:"center"},children:[(0,S.jsx)(u.BZ,{label:"Email",placeholder:"Enter your email here",imageSrc:d.RZ,type:"email",value:D,onChange:function(e){return z(e.target.value)}}),(0,S.jsx)(u.BZ,{label:"Password",placeholder:"Enter your password here",hintText:"Forgot Password?",onHintClick:L,imageSrc:d.$J,type:"password",value:J,onChange:function(e){return N(e.target.value)}}),(0,S.jsx)(u.Jg,{text:"Remember me",checked:q,onChange:function(){return B((function(e){return!e}))}}),o.non_field_errors&&(0,S.jsx)(u.nv,{color:"#FF5F5F",children:o.non_field_errors[0]}),C&&(0,S.jsx)(u.nv,{color:"#FF5F5F",children:"Please Enter a valid Email"}),(o.username||o.password)&&(0,S.jsx)(u.nv,{color:"#FF5F5F",children:"Fields cannot be empty"}),(0,S.jsx)(u.k2,{children:(0,S.jsx)(u.zx,{color:"#00A652",type:"submit",onSubmit:G,children:"Log in"})})]}),(0,S.jsx)(u.iz,{children:"Or log in with"}),(0,S.jsxs)(u.k2,{children:[(0,S.jsx)(x(),{clientId:"920161152373-u95bboqe5r1m45b5654gdgidipfete75.apps.googleusercontent.com",onSuccess:function(e){(0,b.Z)(e.accessToken,e.googleId).then((function(n){I((0,v.Z)({user:(0,t.Z)((0,t.Z)({},e.profileObj),{},{key:n.token})})),_("/home")})).catch((function(e){console.log(e),alert(JSON.stringify(e))}))},onFailure:function(e){console.log("ERROR::",e)},cookiePolicy:"single_host_origin",render:function(e){return(0,S.jsxs)(u.zx,{onClick:e.onClick,style:{backgroundColor:"white",color:"black",width:"154px",textColor:"#000"},children:[(0,S.jsx)(u.Ee,{margin:"8px -14px 0 -15px",width:"80px",src:d.OC,alt:"Google logo"}),"Google"]})}}),(0,S.jsx)(k(),{appId:"1083826272167616",callback:function(e){console.log("facebookdata...",e),(0,j.Z)(e.accessToken,e.id).then((function(e){I((0,v.Z)({user:(0,t.Z)((0,t.Z)({},e.user),{},{key:e.token})})),_("/home")})).catch((function(e){console.log(e),alert(JSON.stringify(e))}))},render:function(e){return(0,S.jsxs)(u.zx,{onClick:e.onClick,style:{backgroundColor:"white",color:"black",width:"154px",textColor:"#000"},children:[(0,S.jsx)(u.Ee,{width:"26px",src:d.ED,alt:"Facebook logo"})," ","Facebook"]})}}),(0,S.jsx)(w.ZP,{authOptions:{clientId:"com.crowdbotics.storeandsharevault.service",scope:"email name",redirectURI:"https://p-and-s-services-33412-staging.botics.co/login",state:"state",nonce:"nonce",usePopup:!0},noDefaultStyle:!1,onSuccess:function(e){var n=e.authorization,o=n.code,r=n.id_token;E({access_token:o,id_token:r}).unwrap().then((function(e){console.log("loginWithAppleRes...",e),I((0,v.Z)({user:(0,t.Z)((0,t.Z)({},e.user),{},{key:e.token})})),_("/home")})).catch((function(e){console.log(e),alert(JSON.stringify(e))}))},onError:function(e){var n=e.error;return"popup_closed_by_user"!==n&&alert("Apple SignIn Error: \n ".concat(n))},skipScript:!1,render:function(e){return(0,S.jsxs)(u.zx,(0,t.Z)((0,t.Z)({},e),{},{color:"#fff",width:"154px",textColor:"#000",children:[(0,S.jsx)(u.Ee,{margin:"4px -10px 0 -15px",width:"70px",src:d.iC,alt:"Apple logo"})," Apple"]}))}})]}),(0,S.jsxs)(u.nv,{children:["Don't have an account?"," ",(0,S.jsx)(u.xb,{to:"/signup",children:(0,S.jsx)(u.nv,{bold:!0,children:"Sign Up"})})]}),(0,S.jsx)(u.xg,{children:(0,S.jsx)(a.r,{})})]})})}},3563:function(e,n,o){var t=o(3526);n.Z=function(e){return function(n){try{n((0,t.ED)(e))}catch(o){n((0,t.Z2)(o))}}}}}]);
//# sourceMappingURL=467.55e58fdb.chunk.js.map